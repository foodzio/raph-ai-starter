(()=>{var e={};e.id=841,e.ids=[841],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},79646:e=>{"use strict";e.exports=require("child_process")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},64839:(e,t,r)=>{"use strict";let a;r.r(t),r.d(t,{patchFetch:()=>rH,routeModule:()=>rB,serverHooks:()=>rY,workAsyncStorage:()=>rW,workUnitAsyncStorage:()=>rK});var n,s,i,o,u,l,d,c,p,f={};r.r(f),r.d(f,{GET:()=>rV,POST:()=>rV});var h=r(42706),m=r(28203),y=r(45994);function v(e){return"object"==typeof e&&null!==e&&"subscribe"in e}function g(e,t){let r=(function(e,t){let r=null,a=()=>{r?.unsubscribe(),r=null,t.removeEventListener("abort",a)};return new ReadableStream({start(n){r=e.subscribe({next(e){n.enqueue({ok:!0,value:e})},error(e){n.enqueue({ok:!1,error:e}),n.close()},complete(){n.close()}}),t.aborted?a():t.addEventListener("abort",a,{once:!0})},cancel(){a()}})})(e,t).getReader(),a={async next(){let e=await r.read();if(e.done)return{value:void 0,done:!0};let{value:t}=e;if(!t.ok)throw t.error;return{value:t.value,done:!1}},return:async()=>(await r.cancel(),{value:void 0,done:!0})};return{[Symbol.asyncIterator]:()=>a}}let _={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},b={[-32700]:"PARSE_ERROR",[-32600]:"BAD_REQUEST",[-32603]:"INTERNAL_SERVER_ERROR",[-32001]:"UNAUTHORIZED",[-32003]:"FORBIDDEN",[-32004]:"NOT_FOUND",[-32005]:"METHOD_NOT_SUPPORTED",[-32008]:"TIMEOUT",[-32009]:"CONFLICT",[-32012]:"PRECONDITION_FAILED",[-32013]:"PAYLOAD_TOO_LARGE",[-32015]:"UNSUPPORTED_MEDIA_TYPE",[-32022]:"UNPROCESSABLE_CONTENT",[-32029]:"TOO_MANY_REQUESTS",[-32099]:"CLIENT_CLOSED_REQUEST"},w=Symbol();function E(e,...t){let r=Object.assign(Object.create(null),e);for(let e of t)for(let t in e){if(t in r&&r[t]!==e[t])throw Error(`Duplicate key ${t}`);r[t]=e[t]}return r}function k(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}function x(e){return"function"==typeof e}function O(e){return Object.assign(Object.create(null),e)}let T="function"==typeof Symbol&&!!Symbol.asyncIterator;function S(e){return T&&k(e)&&Symbol.asyncIterator in e}let A=e=>e();function R(e){return e}let P={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function N(e){let{path:t,error:r,config:a}=e,{code:n}=e.error,s={message:r.message,code:_[n],data:{code:n,httpStatus:P[r.code]??500}};return a.isDev&&"string"==typeof e.error.stack&&(s.data.stack=e.error.stack),"string"==typeof t&&(s.data.path=t),a.errorFormatter({...e,shape:s})}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class I extends Error{}function C(e){if(e instanceof D||e instanceof Error&&"TRPCError"===e.name)return e;let t=new D({code:"INTERNAL_SERVER_ERROR",cause:e});return e instanceof Error&&e.stack&&(t.stack=e.stack),t}class D extends Error{constructor(e){let t=function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(k(e)){let t=new I;for(let r in e)t[r]=e[r];return t}}}(e.cause);super(e.message??t?.message??e.code,{cause:t}),j(this,"cause",void 0),j(this,"code",void 0),this.code=e.code,this.name="TRPCError",this.cause||(this.cause=t)}}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let M=new WeakMap,U=()=>{};n=Symbol.toStringTag;class ${subscribe(){let e,t;let{settlement:r}=this;if(null===r){let r,a;if(null===this.subscribers)throw Error("Unpromise settled but still has subscribers");let n={promise:new Promise((e,t)=>{r=e,a=t}),resolve:r,reject:a};this.subscribers=[...this.subscribers,n],e=n.promise,t=()=>{null!==this.subscribers&&(this.subscribers=function(e,t){let r=e.indexOf(t);return -1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}(this.subscribers,n))}}else{let{status:a}=r;e="fulfilled"===a?Promise.resolve(r.value):Promise.reject(r.reason),t=U}return Object.assign(e,{unsubscribe:t})}then(e,t){let r=this.subscribe(),{unsubscribe:a}=r;return Object.assign(r.then(e,t),{unsubscribe:a})}catch(e){let t=this.subscribe(),{unsubscribe:r}=t;return Object.assign(t.catch(e),{unsubscribe:r})}finally(e){let t=this.subscribe(),{unsubscribe:r}=t;return Object.assign(t.finally(e),{unsubscribe:r})}static proxy(e){let t=$.getSubscribablePromise(e);return void 0!==t?t:$.createSubscribablePromise(e)}static createSubscribablePromise(e){let t=new $(e);return M.set(e,t),M.set(t,t),t}static getSubscribablePromise(e){return M.get(e)}static resolve(e){let t="object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then?e:Promise.resolve(e);return $.proxy(t).subscribe()}static async any(e){let t=(Array.isArray(e)?e:[...e]).map($.resolve);try{return await Promise.any(t)}finally{t.forEach(({unsubscribe:e})=>{e()})}}static async race(e){let t=(Array.isArray(e)?e:[...e]).map($.resolve);try{return await Promise.race(t)}finally{t.forEach(({unsubscribe:e})=>{e()})}}static async raceReferences(e){let t=e.map(L);try{return await Promise.race(t)}finally{for(let e of t)e.unsubscribe()}}constructor(e){Z(this,"promise",void 0),Z(this,"subscribers",[]),Z(this,"settlement",null),Z(this,n,"Unpromise"),"function"==typeof e?this.promise=new Promise(e):this.promise=e;let t=this.promise.then(e=>{let{subscribers:t}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:e},t?.forEach(({resolve:t})=>{t(e)})});"catch"in t&&t.catch(e=>{let{subscribers:t}=this;this.subscribers=null,this.settlement={status:"rejected",reason:e},t?.forEach(({reject:t})=>{t(e)})})}}function L(e){return $.proxy(e).then(()=>[e])}function q(e,t){if(e[Symbol.asyncDispose])throw Error("Symbol.asyncDispose already exists");return e[Symbol.asyncDispose]=t,e}(s=Symbol).dispose??(s.dispose=Symbol()),(i=Symbol).asyncDispose??(i.asyncDispose=Symbol());let F=Symbol();function z(e){let t=null;return function(e,t){if(e[Symbol.dispose])throw Error("Symbol.dispose already exists");return e[Symbol.dispose]=t,e}({start(){if(t)throw Error("Timer already started");return new Promise(r=>{t=setTimeout(()=>r(F),e)})}},()=>{t&&clearTimeout(t)})}function V(e,t,r){if(null!=t){var a,n;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(void 0===a){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if("function"!=typeof a)throw TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}function B(e){var t="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var a=Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};return(B=function(e){function r(r){e.error=e.hasError?new t(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var a,n=0;return function t(){for(;a=e.stack.pop();)try{if(!a.async&&1===n)return n=0,e.stack.push(a),Promise.resolve().then(t);if(a.dispose){var s=a.dispose.call(a.value);if(a.async)return n|=2,Promise.resolve(s).then(t,function(e){return r(e),t()})}else n|=1}catch(e){r(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()})(e)}function W(e){let t=e[Symbol.asyncIterator]();return q(t,async()=>{await t.return?.()})}async function*K(e,t){let r={stack:[],error:void 0,hasError:!1};try{let a;let n=V(r,W(e),!0),s=V(r,z(t.maxDurationMs),!1).start();for(;;){if((a=await $.race([n.next(),s]))===F){let e=await n.return?.();return e?.value}if(a.done)return a;yield a.value,a=null}}catch(e){r.error=e,r.hasError=!0}finally{let e=B(r);e&&await e}}async function*Y(e,t){let r={stack:[],error:void 0,hasError:!1};try{let a;let n=V(r,W(e),!0),s=V(r,z(t.gracePeriodMs),!1),i=t.count,o=new Promise(()=>{});for(;;){if((a=await $.race([n.next(),o]))===F){let e=await n.return?.();return e?.value}if(a.done)return a.value;yield a.value,0==--i&&(o=s.start()),a=null}}catch(e){r.error=e,r.hasError=!0}finally{let e=B(r);e&&await e}}function H(){let e,t;return{promise:new Promise((r,a)=>{e=r,t=a}),resolve:e,reject:t}}function J(e){var t="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var a=Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};return(J=function(e){function r(r){e.error=e.hasError?new t(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var a,n=0;return function t(){for(;a=e.stack.pop();)try{if(!a.async&&1===n)return n=0,e.stack.push(a),Promise.resolve().then(t);if(a.dispose){var s=a.dispose.call(a.value);if(a.async)return n|=2,Promise.resolve(s).then(t,function(e){return r(e),t()})}else n|=1}catch(e){r(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()})(e)}function G(e){let t=e[Symbol.asyncIterator]();return new ReadableStream({async cancel(){await t.return?.()},async pull(e){let r=await t.next();if(r.done){e.close();return}e.enqueue(r.value)}})}function Q(e){var t="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var a=Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};return(Q=function(e){function r(r){e.error=e.hasError?new t(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var a,n=0;return function t(){for(;a=e.stack.pop();)try{if(!a.async&&1===n)return n=0,e.stack.push(a),Promise.resolve().then(t);if(a.dispose){var s=a.dispose.call(a.value);if(a.async)return n|=2,Promise.resolve(s).then(t,function(e){return r(e),t()})}else n|=1}catch(e){r(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()})(e)}function X(e){return(k(e)||x(e))&&"function"==typeof e?.then&&"function"==typeof e?.catch}class ee extends Error{constructor(e){super("Max depth reached at path: "+e.join(".")),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"path",void 0),this.path=e}}async function*et(e){let{data:t}=e,r=0,a=function(){let e="idle",t=H(),r=[],a=new Set,n=[];function s(r){if("pending"!==e)return;let s=function(e,t){let r=e[Symbol.asyncIterator](),a="idle";function n(){a="done",t=()=>{}}return{pull:function(){"idle"===a&&(a="pending",r.next().then(e=>{if(e.done){a="done",t({status:"return",value:e.value}),n();return}a="idle",t({status:"yield",value:e.value})}).catch(e=>{t({status:"error",error:e}),n()}))},destroy:async()=>{n(),await r.return?.()}}}(r,r=>{if("pending"===e){switch(r.status){case"yield":n.push([s,r]);break;case"return":a.delete(s);break;case"error":n.push([s,r]),a.delete(s)}t.resolve()}});a.add(s),s.pull()}return{add(t){switch(e){case"idle":r.push(t);break;case"pending":s(t)}},async *[Symbol.asyncIterator](){let i={stack:[],error:void 0,hasError:!1};try{if("idle"!==e)throw Error("Cannot iterate twice");for(e="pending",function(e,t,r){if(null!=t){var a,n;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");if(void 0===(a=t[Symbol.asyncDispose])){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=a=t[Symbol.dispose]}if("function"!=typeof a)throw TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:a,async:r})}else e.stack.push({async:!0})}(i,q({},async()=>{e="done";let r=[];if(await Promise.all(Array.from(a.values()).map(async e=>{try{await e.destroy()}catch(e){r.push(e)}})),n.length=0,a.clear(),t.resolve(),r.length>0)throw AggregateError(r)}),!0);r.length>0;)s(r.shift());for(;a.size>0;){for(await t.promise;n.length>0;){let[e,t]=n.shift();switch(t.status){case"yield":yield t.value,e.pull();break;case"error":throw t.error}}t=H()}}catch(e){i.error=e,i.hasError=!0}finally{let e=J(i);e&&await e}}}}();function n(e){let t=r++,n=e(t);return a.add(n),t}function s(t){return e.maxDepth&&t.length>e.maxDepth?new ee(t):null}function i(t,r){var a;if(X(t))return[0,(a=t,n(async function*(t){let n=s(r);n&&(a.catch(t=>{e.onError?.({error:t,path:r})}),a=Promise.reject(n));try{let e=await a;yield[t,0,o(e,r)]}catch(a){e.onError?.({error:a,path:r}),yield[t,1,e.formatError?.({error:a,path:r})]}}))];if(S(t)){if(e.maxDepth&&r.length>=e.maxDepth)throw Error("Max depth reached");return[1,n(async function*(a){let n={stack:[],error:void 0,hasError:!1};try{let i=s(r);if(i)throw i;let u=function(e,t,r){if(null!=t){var a,n;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(void 0===a){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if("function"!=typeof a)throw TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}(n,W(t),!0);try{for(;;){let e=await u.next();if(e.done){yield[a,0,o(e.value,r)];break}yield[a,1,o(e.value,r)]}}catch(t){e.onError?.({error:t,path:r}),yield[a,2,e.formatError?.({error:t,path:r})]}}catch(e){n.error=e,n.hasError=!0}finally{let e=Q(n);e&&await e}})]}return null}function o(e,t){if(void 0===e)return[[]];if(!k(e))return[[e]];let r=i(e,t);if(r)return[[0],[null,...r]];let a={},n=[];for(let[r,s]of Object.entries(e)){let e=i(s,[...t,r]);if(!e){a[r]=s;continue}a[r]=0,n.push([r,...e])}return[[a],...n]}let u={};for(let[e,r]of Object.entries(t))u[e]=o(r,[e]);for await(let e of(yield u,a))yield e}let er=Symbol();function ea(e,t,r){if(null!=t){var a,n;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(void 0===a){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if("function"!=typeof a)throw TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}function en(e){var t="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var a=Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};return(en=function(e){function r(r){e.error=e.hasError?new t(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var a,n=0;return function t(){for(;a=e.stack.pop();)try{if(!a.async&&1===n)return n=0,e.stack.push(a),Promise.resolve().then(t);if(a.dispose){var s=a.dispose.call(a.value);if(a.async)return n|=2,Promise.resolve(s).then(t,function(e){return r(e),t()})}else n|=1}catch(e){r(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()})(e)}let es=Symbol("ping");async function*ei(e,t){let r={stack:[],error:void 0,hasError:!1};try{let a;let n=ea(r,W(e),!0),s=n.next();for(;;){let e={stack:[],error:void 0,hasError:!1};try{let r=ea(e,z(t),!1);if((a=await $.race([s,r.start()]))===F){yield es;continue}if(a.done)return a.value;s=n.next(),yield a.value,a=null}catch(t){e.error=t,e.hasError=!0}finally{en(e)}}}catch(e){r.error=e,r.hasError=!0}finally{let e=en(r);e&&await e}}let eo={"Content-Type":"text/event-stream","Cache-Control":"no-cache, no-transform","X-Accel-Buffering":"no",Connection:"keep-alive"},eu={input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}};function el(e,t){return"error"in t?{...t,error:e.transformer.output.serialize(t.error)}:"data"in t.result?{...t,result:{...t.result,data:e.transformer.output.serialize(t.result.data)}}:t}function ed(e,t){return Array.isArray(t)?t.map(t=>el(e,t)):el(e,t)}function ec(e){let t=null,r=w;return{read:async()=>(r!==w||(null===t&&(t=e().catch(e=>{if(e instanceof D)throw e;throw new D({code:"BAD_REQUEST",message:e instanceof Error?e.message:"Invalid input",cause:e})})),r=await t,t=null),r),result:()=>r!==w?r:void 0}}let ep={isMatch:e=>!!e.headers.get("content-type")?.startsWith("application/json"),parse(e){let{req:t}=e,r="1"===e.searchParams.get("batch"),a=r?e.path.split(","):[e.path],n=ec(async()=>{let n;if("GET"===t.method){let t=e.searchParams.get("input");t&&(n=JSON.parse(t))}else n=await t.json();if(void 0===n)return{};if(!r)return{0:e.router._def._config.transformer.input.deserialize(n)};if(!k(n))throw new D({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let s={};for(let t of a.keys()){let r=n[t];void 0!==r&&(s[t]=e.router._def._config.transformer.input.deserialize(r))}return s}),s=a.map((t,r)=>{let a=e.router._def.procedures[t]??null;return{path:t,procedure:a,getRawInput:async()=>{let t=(await n.read())[r];if(a?._def.type==="subscription"){let r=e.headers.get("last-event-id")??e.searchParams.get("lastEventId")??e.searchParams.get("Last-Event-Id");r&&(k(t)?t={...t,lastEventId:r}:t??(t={lastEventId:r}))}return t},result:()=>n.result()?.[r]}}),i=new Set(s.map(e=>e.procedure?._def.type).filter(Boolean));if(i.size>1)throw new D({code:"BAD_REQUEST",message:`Cannot mix procedure types in call: ${Array.from(i).join(", ")}`});let o=i.values().next().value??"unknown",u=e.searchParams.get("connectionParams");return{isBatchCall:r,accept:t.headers.get("trpc-accept"),calls:s,type:o,connectionParams:null===u?null:function(e){let t;try{t=JSON.parse(e)}catch(e){throw new D({code:"PARSE_ERROR",message:"Not JSON-parsable query params",cause:e})}return function(e){try{if(null===e)return null;if(!k(e))throw Error("Expected object");let t=Object.entries(e).filter(([e,t])=>"string"!=typeof t);if(t.length>0)throw Error(`Expected connectionParams to be string values. Got ${t.map(([e,t])=>`${e}: ${typeof t}`).join(", ")}`);return e}catch(e){throw new D({code:"PARSE_ERROR",message:"Invalid connection params shape",cause:e})}}(t)}(u),signal:t.signal}}},ef=[ep,{isMatch:e=>!!e.headers.get("content-type")?.startsWith("multipart/form-data"),parse(e){let{req:t}=e;if("POST"!==t.method)throw new D({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for multipart/form-data requests"});let r=ec(async()=>await t.formData());return{accept:null,calls:[{path:e.path,getRawInput:r.read,result:r.result,procedure:e.router._def.procedures[e.path]??null}],isBatchCall:!1,type:"mutation",connectionParams:null,signal:t.signal}}},{isMatch:e=>!!e.headers.get("content-type")?.startsWith("application/octet-stream"),parse(e){let{req:t}=e;if("POST"!==t.method)throw new D({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for application/octet-stream requests"});let r=ec(async()=>t.body);return{calls:[{path:e.path,getRawInput:r.read,result:r.result,procedure:e.router._def.procedures[e.path]??null}],isBatchCall:!1,accept:null,type:"mutation",connectionParams:null,signal:t.signal}}}];function eh(e){return A(async function*(){throw e})}let em={mutation:["POST"],query:["GET"],subscription:["GET"]},ey={mutation:["POST"],query:["GET","POST"],subscription:["GET","POST"]};function ev(e){let{ctx:t,info:r,responseMeta:a,untransformedJSON:n,errors:s=[],headers:i}=e,o=n?function(e){let t=new Set((Array.isArray(e)?e:[e]).map(e=>"error"in e&&k(e.error.data)?"number"==typeof e.error.data?.httpStatus?e.error.data.httpStatus:P[b[e.error.code]]??500:200));return 1!==t.size?207:t.values().next().value}(n):200,u=!n,l=u?[]:Array.isArray(n)?n:[n],d=a?.({ctx:t,info:r,paths:r?.calls.map(e=>e.path),data:l,errors:s,eagerGeneration:u,type:r?.calls.find(e=>e.procedure?._def.type)?.procedure?._def.type??"unknown"})??{};if(d.headers){if(d.headers instanceof Headers)for(let[e,t]of d.headers.entries())i.append(e,t);else for(let[e,t]of Object.entries(d.headers))if(Array.isArray(t))for(let r of t)i.append(e,r);else"string"==typeof t&&i.set(e,t)}return d.status&&(o=d.status),{status:o}}function eg(e){return!!k(e)&&(!!S(e)||Object.values(e).some(X)||Object.values(e).some(S))}async function e_(e){let{router:t,req:r}=e,a=new Headers([["vary","trpc-accept"]]),n=t._def._config,s=new URL(r.url);if("HEAD"===r.method)return new Response(null,{status:204});let i=e.allowBatching??e.batching?.enabled??!0,o=(e.allowMethodOverride??!1)&&"POST"===r.method,u=A(()=>{try{var a;return[void 0,(a={req:r,path:decodeURIComponent(e.path),router:t,searchParams:s.searchParams,headers:e.req.headers},(function(e){let t=ef.find(t=>t.isMatch(e));if(t)return t;if(!t&&"GET"===e.method)return ep;throw new D({code:"UNSUPPORTED_MEDIA_TYPE",message:e.headers.has("content-type")?`Unsupported content-type "${e.headers.get("content-type")}`:"Missing content-type header"})})(a.req).parse(a))]}catch(e){return[C(e),void 0]}}),l=A(()=>{let t;return{valueOrUndefined:()=>{if(t)return t[1]},value:()=>{let[e,r]=t;if(e)throw e;return r},create:async r=>{if(t)throw Error("This should only be called once - report a bug in tRPC");try{let a=await e.createContext({info:r});t=[void 0,a]}catch(e){t=[C(e),void 0]}}}}),d=o?ey:em,c="application/jsonl"===r.headers.get("trpc-accept"),p=n.sse?.enabled??!0;try{let[t,s]=u;if(t)throw t;if(s.isBatchCall&&!i)throw new D({code:"BAD_REQUEST",message:"Batching is not enabled on the server"});if(c&&!s.isBatchCall)throw new D({message:"Streaming requests must be batched (you can do a batch of 1)",code:"BAD_REQUEST"});await l.create(s);let o=s.calls.map(async t=>{let a=t.procedure;try{if(e.error)throw e.error;if(!a)throw new D({code:"NOT_FOUND",message:`No procedure found on path "${t.path}"`});if(!d[a._def.type].includes(r.method))throw new D({code:"METHOD_NOT_SUPPORTED",message:`Unsupported ${r.method}-request to ${a._def.type} procedure at path "${t.path}"`});if("subscription"===a._def.type&&s.isBatchCall)throw new D({code:"BAD_REQUEST",message:"Cannot batch subscription calls"});let n=await a({path:t.path,getRawInput:t.getRawInput,ctx:l.value(),type:a._def.type,signal:e.req.signal});return[void 0,{data:n}]}catch(n){let r=C(n),a=t.result();return e.onError?.({error:r,path:t.path,input:a,ctx:l.valueOrUndefined(),type:t.procedure?._def.type??"unknown",req:e.req}),[r,void 0]}});if(!s.isBatchCall){let[t]=s.calls,[r,i]=await o[0];switch(s.type){case"unknown":case"mutation":case"query":{if(a.set("content-type","application/json"),eg(i?.data))throw new D({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"});let o=r?{error:N({config:n,ctx:l.valueOrUndefined(),error:r,input:t.result(),path:t.path,type:s.type})}:{result:{data:i.data}},u=ev({ctx:l.valueOrUndefined(),info:s,responseMeta:e.responseMeta,errors:r?[r]:[],headers:a,untransformedJSON:[o]});return new Response(JSON.stringify(ed(n,o)),{status:u.status,headers:a})}case"subscription":{let o=A(()=>r?eh(r):p?v(i.data)||S(i.data)?v(i.data)?g(i.data,e.req.signal):i.data:eh(new D({message:`Subscription ${t.path} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"})):eh(new D({code:"METHOD_NOT_SUPPORTED",message:'Missing experimental flag "sseSubscriptions"'}))),u=function(e){let{serialize:t=R}=e,r={enabled:e.ping?.enabled??!1,intervalMs:e.ping?.intervalMs??1e3},a=e.client??{};if(r.enabled&&a.reconnectAfterInactivityMs&&r.intervalMs>a.reconnectAfterInactivityMs)throw Error(`Ping interval must be less than client reconnect interval to prevent unnecessary reconnection - ping.intervalMs: ${r.intervalMs} client.reconnectAfterInactivityMs: ${a.reconnectAfterInactivityMs}`);async function*n(){let n,s;yield{event:"connected",data:JSON.stringify(a)};let i=e.data;for await(n of(e.emitAndEndImmediately&&(i=Y(i,{count:1,gracePeriodMs:1})),e.maxDurationMs&&e.maxDurationMs>0&&e.maxDurationMs!==1/0&&(i=K(i,{maxDurationMs:e.maxDurationMs})),r.enabled&&r.intervalMs!==1/0&&r.intervalMs>0&&(i=ei(i,r.intervalMs)),i)){var o;if(n===es){yield{event:"ping",data:""};continue}(s=Array.isArray(o=n)&&o[2]===er?{id:n[0],data:n[1]}:{data:n}).data=JSON.stringify(t(s.data)),yield s,n=null,s=null}}return G(async function*(){try{yield*n()}catch(n){if(k(n)&&"AbortError"===n.name)return;let r=C(n),a=e.formatError?.({error:r})??null;yield{event:"serialized-error",data:JSON.stringify(t(a))}}}()).pipeThrough(new TransformStream({transform(e,t){"event"in e&&t.enqueue(`event: ${e.event}
`),"data"in e&&t.enqueue(`data: ${e.data}
`),"id"in e&&t.enqueue(`id: ${e.id}
`),"comment"in e&&t.enqueue(`: ${e.comment}
`),t.enqueue("\n\n")}})).pipeThrough(new TextEncoderStream)}({...n.sse,data:o,serialize:e=>n.transformer.output.serialize(e),formatError(r){let a=C(r.error),s=t?.result(),i=t?.path,o=t?.procedure?._def.type??"unknown";return e.onError?.({error:a,path:i,input:s,ctx:l.valueOrUndefined(),req:e.req,type:o}),N({config:n,ctx:l.valueOrUndefined(),error:a,input:s,path:i,type:o})}});for(let[e,t]of Object.entries(eo))a.set(e,t);let d=ev({ctx:l.valueOrUndefined(),info:s,responseMeta:e.responseMeta,errors:[],headers:a,untransformedJSON:null});return new Response(u,{headers:a,status:d.status})}}}if("application/jsonl"===s.accept){a.set("content-type","application/json"),a.set("transfer-encoding","chunked");let t=ev({ctx:l.valueOrUndefined(),info:s,responseMeta:e.responseMeta,errors:[],headers:a,untransformedJSON:null}),r=function(e){let t=G(et(e)),{serialize:r}=e;return r&&(t=t.pipeThrough(new TransformStream({transform(e,t){t.enqueue(r(e))}}))),t.pipeThrough(new TransformStream({transform(e,t){t.enqueue(JSON.stringify(e)+"\n")}})).pipeThrough(new TextEncoderStream)}({maxDepth:1/0,data:o.map(async t=>{let[r,a]=await t,i=s.calls[0];if(r)return{error:N({config:n,ctx:l.valueOrUndefined(),error:r,input:i.result(),path:i.path,type:i.procedure?._def.type??"unknown"})};let o=v(a.data)?g(a.data,e.req.signal):Promise.resolve(a.data);return{result:Promise.resolve({data:o})}}),serialize:n.transformer.output.serialize,onError:t=>{e.onError?.({error:C(t),path:void 0,input:void 0,ctx:l.valueOrUndefined(),req:e.req,type:s?.type??"unknown"})},formatError(e){let t=s?.calls[e.path[0]],r=C(e.error),a=t?.result(),i=t?.path,o=t?.procedure?._def.type??"unknown";return N({config:n,ctx:l.valueOrUndefined(),error:r,input:a,path:i,type:o})}});return new Response(r,{headers:a,status:t.status})}a.set("content-type","application/json");let f=(await Promise.all(o)).map(e=>{let[t,r]=e;return t?e:eg(r.data)?[new D({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"}),void 0]:e}),h=f.map(([e,t],r)=>{let a=s.calls[r];return e?{error:N({config:n,ctx:l.valueOrUndefined(),error:e,input:a.result(),path:a.path,type:a.procedure?._def.type??"unknown"})}:{result:{data:t.data}}}),m=f.map(([e])=>e).filter(Boolean),y=ev({ctx:l.valueOrUndefined(),info:s,responseMeta:e.responseMeta,untransformedJSON:h,errors:m,headers:a});return new Response(JSON.stringify(ed(n,h)),{status:y.status,headers:a})}catch(d){let[t,r]=u,n=l.valueOrUndefined(),{error:s,untransformedJSON:i,body:o}=function(e,t){let{router:r,req:a,onError:n}=t.opts,s=C(e);n?.({error:s,path:t.path,input:t.input,ctx:t.ctx,type:t.type,req:a});let i={error:N({config:r._def._config,error:s,type:t.type,path:t.path,input:t.input,ctx:t.ctx})},o=JSON.stringify(ed(r._def._config,i));return{error:s,untransformedJSON:i,body:o}}(d,{opts:e,ctx:l.valueOrUndefined(),type:r?.type??"unknown"});return new Response(o,{status:ev({ctx:n,info:r,responseMeta:e.responseMeta,untransformedJSON:i,errors:[s],headers:a}).status,headers:a})}}let eb="undefined"==typeof window||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID,ew=e=>e=(e=e.startsWith("/")?e.slice(1):e).endsWith("/")?e.slice(0,-1):e;async function eE(e){let t=new Headers,r=async r=>e.createContext?.({req:e.req,resHeaders:t,...r}),a=ew(new URL(e.req.url).pathname),n=ew(e.endpoint),s=ew(a.slice(n.length));return await e_({...e,req:e.req,createContext:r,path:s,error:null,onError(t){e?.onError?.({...t,req:e.req})},responseMeta(r){let a=e.responseMeta?.(r);if(a?.headers){if(a.headers instanceof Headers)for(let[e,r]of a.headers.entries())t.append(e,r);else for(let[e,r]of Object.entries(a.headers))if(Array.isArray(r))for(let a of r)t.append(e,a);else"string"==typeof r&&t.set(e,r)}return{headers:t,status:a?.status}}})}let ek=({shape:e})=>e,ex="middlewareMarker";class eO extends Error{constructor(e){super(e[0]?.message),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"issues",void 0),this.name="SchemaError",this.issues=e}}function eT(e){if("function"==typeof e&&"function"==typeof e.assert)return e.assert.bind(e);if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);if("function"==typeof e.assert)return t=>(e.assert(t),t);if("~standard"in e)return async t=>{let r=await e["~standard"].validate(t);if(r.issues)throw new eO(r.issues);return r.value};throw Error("Could not find a validator fn")}function eS(e,t){let{middlewares:r=[],inputs:a,meta:n,...s}=t;return eA({...E(e,s),inputs:[...e.inputs,...a??[]],middlewares:[...e.middlewares,...r],meta:e.meta&&n?{...e.meta,...n}:n??e.meta})}function eA(e={}){let t={procedure:!0,inputs:[],middlewares:[],...e};return{_def:t,input(e){let r=eT(e);return eS(t,{inputs:[e],middlewares:[function(e){let t=async function(t){let r;let a=await t.getRawInput();try{r=await e(a)}catch(e){throw new D({code:"BAD_REQUEST",cause:e})}let n=k(t.input)&&k(r)?{...t.input,...r}:r;return t.next({input:n})};return t._type="input",t}(r)]})},output(e){let r=eT(e);return eS(t,{output:e,middlewares:[function(e){let t=async function({next:t}){let r=await t();if(!r.ok)return r;try{let t=await e(r.data);return{...r,data:t}}catch(e){throw new D({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:e})}};return t._type="output",t}(r)]})},meta:e=>eS(t,{meta:e}),use:e=>eS(t,{middlewares:"_middlewares"in e?e._middlewares:[e]}),unstable_concat:e=>eS(t,e._def),query:e=>eR({...t,type:"query"},e),mutation:e=>eR({...t,type:"mutation"},e),subscription:e=>eR({...t,type:"subscription"},e),experimental_caller:e=>eS(t,{caller:e})}}function eR(e,t){let r=eS(e,{resolver:t,middlewares:[async function(e){return{marker:ex,ok:!0,data:await t(e),ctx:e.ctx}}]}),a={...r._def,type:e.type,experimental_caller:!!r._def.caller,meta:r._def.meta,$types:null},n=function(e){async function t(t){if(!t||!("getRawInput"in t))throw Error(eP);let r=await eN(0,e,t);if(!r)throw new D({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!r.ok)throw r.error;return r.data}return t._def=e,t}(r._def),s=r._def.caller;if(!s)return n;let i=async(...e)=>await s({args:e,invoke:n,_def:a});return i._def=a,i}let eP=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim();async function eN(e,t,r){try{let a=t.middlewares[e];return await a({...r,meta:t.meta,input:r.input,next:a=>eN(e+1,t,{...r,ctx:a?.ctx?{...r.ctx,...a.ctx}:r.ctx,input:a&&"input"in a?a.input:r.input,getRawInput:a?.getRawInput??r.getRawInput})})}catch(e){return{ok:!1,error:C(e),marker:ex}}}let ej=()=>{},eI=e=>{Object.freeze&&Object.freeze(e)},eC=e=>(function e(t,r,a){let n=r.join(".");return a[n]??(a[n]=new Proxy(ej,{get(n,s){if("string"==typeof s&&"then"!==s)return e(t,[...r,s],a)},apply(e,a,n){let s=r[r.length-1],i={args:n,path:r};return"call"===s?i={args:n.length>=2?[n[1]]:[],path:r.slice(0,-1)}:"apply"===s&&(i={args:n.length>=2?n[1]:[],path:r.slice(0,-1)}),eI(i.args),eI(i.path),t(i)}})),a[n]})(e,[],Object.create(null)),eD={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:ek,transformer:eu},eZ=["then","call","apply"];function eM(e){return function(t){let r=new Set(Object.keys(t).filter(e=>eZ.includes(e)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let a=O({}),n=function e(t,r=[]){let n=O({});for(let[s,i]of Object.entries(t??{})){if(i._def&&"router"in i._def){n[s]=e(i._def.record,[...r,s]);continue}if("function"!=typeof i){n[s]=e(i,[...r,s]);continue}let t=[...r,s].join(".");if(a[t])throw Error(`Duplicate key: ${t}`);a[t]=i,n[s]=i}return n}(t),s={_config:e,router:!0,procedures:a,...eD,record:n};return{...n,_def:s,createCaller:eU()({_def:s})}}}function eU(){return function(e){let t=e._def;return function(e,r){return eC(async({path:a,args:n})=>{let s;let i=a.join(".");if(1===a.length&&"_def"===a[0])return t;let o=t.procedures[i];try{return s=x(e)?await Promise.resolve(e()):e,await o({path:i,getRawInput:async()=>n[0],ctx:s,type:o._def.type,signal:r?.signal})}catch(e){throw r?.onError?.({ctx:s,error:C(e),input:n[0],path:i,type:o._def.type}),e}})}}}function e$(...e){let t=E({},...e.map(e=>e._def.record));return eM({errorFormatter:e.reduce((e,t)=>{if(t._def._config.errorFormatter&&t._def._config.errorFormatter!==ek){if(e!==ek&&e!==t._def._config.errorFormatter)throw Error("You seem to have several error formatters");return t._def._config.errorFormatter}return e},ek),transformer:e.reduce((e,t)=>{if(t._def._config.transformer&&t._def._config.transformer!==eu){if(e!==eu&&e!==t._def._config.transformer)throw Error("You seem to have several transformers");return t._def._config.transformer}return e},eu),isDev:e.every(e=>e._def._config.isDev),allowOutsideOfServer:e.every(e=>e._def._config.allowOutsideOfServer),isServer:e.every(e=>e._def._config.isServer),$types:e[0]?._def._config.$types})(t)}class eL{context(){return new eL}meta(){return new eL}create(e){var t;let r={...e,transformer:"input"in(t=e?.transformer??eu)?t:{input:t,output:t},isDev:e?.isDev??globalThis.process?.env.NODE_ENV!=="production",allowOutsideOfServer:e?.allowOutsideOfServer??!1,errorFormatter:e?.errorFormatter??ek,isServer:e?.isServer??eb,$types:null};if(!(e?.isServer??eb)&&e?.allowOutsideOfServer!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:r,procedure:eA({meta:e?.defaultMeta}),middleware:function(e){return function e(t){return{_middlewares:t,unstable_pipe:r=>e([...t,..."_middlewares"in r?r._middlewares:[r]])}}([e])},router:eM(r),mergeRouters:e$,createCallerFactory:eU()}}}let eq=new eL;class eF{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class ez{constructor(e){this.generateIdentifier=e,this.kv=new eF}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class eV extends ez{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function eB(e,t){Object.entries(e).forEach(([e,r])=>t(r,e))}function eW(e,t){return -1!==e.indexOf(t)}function eK(e,t){for(let r=0;r<e.length;r++){let a=e[r];if(t(a))return a}}class eY{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return function(e,t){let r=function(e){if("values"in Object)return Object.values(e);let t=[];for(let r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}(e);if("find"in r)return r.find(t);for(let e=0;e<r.length;e++){let a=r[e];if(t(a))return a}}(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}}let eH=e=>Object.prototype.toString.call(e).slice(8,-1),eJ=e=>void 0===e,eG=e=>null===e,eQ=e=>"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype),eX=e=>eQ(e)&&0===Object.keys(e).length,e0=e=>Array.isArray(e),e1=e=>"string"==typeof e,e9=e=>"number"==typeof e&&!isNaN(e),e2=e=>"boolean"==typeof e,e4=e=>e instanceof Map,e3=e=>e instanceof Set,e5=e=>"Symbol"===eH(e),e6=e=>"number"==typeof e&&isNaN(e),e8=e=>e2(e)||eG(e)||eJ(e)||e9(e)||e1(e)||e5(e),e7=e=>e===1/0||e===-1/0,te=e=>e.replace(/\./g,"\\."),tt=e=>e.map(String).map(te).join("."),tr=e=>{let t=[],r="";for(let a=0;a<e.length;a++){let n=e.charAt(a);if("\\"===n&&"."===e.charAt(a+1)){r+=".",a++;continue}if("."===n){t.push(r),r="";continue}r+=n}let a=r;return t.push(a),t};function ta(e,t,r,a){return{isApplicable:e,annotation:t,transform:r,untransform:a}}let tn=[ta(eJ,"undefined",()=>null,()=>void 0),ta(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),ta(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),ta(e=>e instanceof Error,"Error",(e,t)=>{let r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r},(e,t)=>{let r=Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r}),ta(e=>e instanceof RegExp,"regexp",e=>""+e,e=>new RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))),ta(e3,"set",e=>[...e.values()],e=>new Set(e)),ta(e4,"map",e=>[...e.entries()],e=>new Map(e)),ta(e=>e6(e)||e7(e),"number",e=>e6(e)?"NaN":e>0?"Infinity":"-Infinity",Number),ta(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),ta(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function ts(e,t,r,a){return{isApplicable:e,annotation:t,transform:r,untransform:a}}let ti=ts((e,t)=>!!e5(e)&&!!t.symbolRegistry.getIdentifier(e),(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{let a=r.symbolRegistry.getValue(t[1]);if(!a)throw Error("Trying to deserialize unknown symbol");return a}),to=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),tu=ts(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{let r=to[t[1]];if(!r)throw Error("Trying to deserialize unknown typed array");return new r(e)});function tl(e,t){return!!e?.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}let td=ts(tl,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{let r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};let a={};return r.forEach(t=>{a[t]=e[t]}),a},(e,t,r)=>{let a=r.classRegistry.getValue(t[1]);if(!a)throw Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(a.prototype),e)}),tc=ts((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{let a=r.customTransformerRegistry.findByName(t[1]);if(!a)throw Error("Trying to deserialize unknown custom value");return a.deserialize(e)}),tp=[td,ti,tc,tu],tf=(e,t)=>{let r=eK(tp,r=>r.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};let a=eK(tn,r=>r.isApplicable(e,t));if(a)return{value:a.transform(e,t),type:a.annotation}},th={};tn.forEach(e=>{th[e.annotation]=e});let tm=(e,t,r)=>{if(e0(t))switch(t[0]){case"symbol":return ti.untransform(e,t,r);case"class":return td.untransform(e,t,r);case"custom":return tc.untransform(e,t,r);case"typed-array":return tu.untransform(e,t,r);default:throw Error("Unknown transformation: "+t)}else{let a=th[t];if(!a)throw Error("Unknown transformation: "+t);return a.untransform(e,r)}},ty=(e,t)=>{if(t>e.size)throw Error("index out of bounds");let r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function tv(e){if(eW(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(eW(e,"prototype"))throw Error("prototype is not allowed as a property");if(eW(e,"constructor"))throw Error("constructor is not allowed as a property")}let tg=(e,t)=>{tv(t);for(let r=0;r<t.length;r++){let a=t[r];if(e3(e))e=ty(e,+a);else if(e4(e)){let n=+a,s=0==+t[++r]?"key":"value",i=ty(e,n);switch(s){case"key":e=i;break;case"value":e=e.get(i)}}else e=e[a]}return e},t_=(e,t,r)=>{if(tv(t),0===t.length)return r(e);let a=e;for(let e=0;e<t.length-1;e++){let r=t[e];if(e0(a))a=a[+r];else if(eQ(a))a=a[r];else if(e3(a))a=ty(a,+r);else if(e4(a)){if(e===t.length-2)break;let n=+r,s=0==+t[++e]?"key":"value",i=ty(a,n);switch(s){case"key":a=i;break;case"value":a=a.get(i)}}}let n=t[t.length-1];if(e0(a)?a[+n]=r(a[+n]):eQ(a)&&(a[n]=r(a[n])),e3(a)){let e=ty(a,+n),t=r(e);e!==t&&(a.delete(e),a.add(t))}if(e4(a)){let e=ty(a,+t[t.length-2]);switch(0==+n?"key":"value"){case"key":{let t=r(e);a.set(t,a.get(e)),t!==e&&a.delete(e);break}case"value":a.set(e,r(a.get(e)))}}return e},tb=(e,t)=>eQ(e)||e0(e)||e4(e)||e3(e)||tl(e,t),tw=(e,t,r,a,n=[],s=[],i=new Map)=>{let o=e8(e);if(!o){!function(e,t,r){let a=r.get(e);a?a.push(t):r.set(e,[t])}(e,n,t);let r=i.get(e);if(r)return a?{transformedValue:null}:r}if(!tb(e,r)){let t=tf(e,r),a=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return o||i.set(e,a),a}if(eW(s,e))return{transformedValue:null};let u=tf(e,r),l=u?.value??e,d=e0(l)?[]:{},c={};eB(l,(o,u)=>{if("__proto__"===u||"constructor"===u||"prototype"===u)throw Error(`Detected property ${u}. This is a prototype pollution risk, please remove it from your object.`);let l=tw(o,t,r,a,[...n,u],[...s,e],i);d[u]=l.transformedValue,e0(l.annotations)?c[u]=l.annotations:eQ(l.annotations)&&eB(l.annotations,(e,t)=>{c[te(u)+"."+t]=e})});let p=eX(c)?{transformedValue:d,annotations:u?[u.type]:void 0}:{transformedValue:d,annotations:u?[u.type,c]:c};return o||i.set(e,p),p};function tE(e){return Object.prototype.toString.call(e).slice(8,-1)}function tk(e){return"Array"===tE(e)}class tx{constructor({dedupe:e=!1}={}){this.classRegistry=new eV,this.symbolRegistry=new ez(e=>e.description??""),this.customTransformerRegistry=new eY,this.allowedErrorProps=[],this.dedupe=e}serialize(e){let t=new Map,r=tw(e,t,this,this.dedupe),a={json:r.transformedValue};r.annotations&&(a.meta={...a.meta,values:r.annotations});let n=function(e,t){let r;let a={};return(e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));let[n,...s]=e;0===n.length?r=s.map(tt):a[tt(n)]=s.map(tt)}),r)?eX(a)?[r]:[r,a]:eX(a)?void 0:a}(t,this.dedupe);return n&&(a.meta={...a.meta,referentialEqualities:n}),a}deserialize(e){let{json:t,meta:r}=e,a=function e(t,r={}){return tk(t)?t.map(t=>e(t,r)):!function(e){if("Object"!==tE(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t)?t:[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].reduce((a,n)=>{if(tk(r.props)&&!r.props.includes(n))return a;let s=e(t[n],r);return function(e,t,r,a,n){let s=({}).propertyIsEnumerable.call(a,t)?"enumerable":"nonenumerable";"enumerable"===s&&(e[t]=r),n&&"nonenumerable"===s&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}(a,n,s,t,r.nonenumerable),a},{})}(t);if(r?.values){var n,s,i;n=a,s=r.values,i=this,function e(t,r,a=[]){if(!t)return;if(!e0(t)){eB(t,(t,n)=>e(t,r,[...a,...tr(n)]));return}let[n,s]=t;s&&eB(s,(t,n)=>{e(t,r,[...a,...tr(n)])}),r(n,a)}(s,(e,t)=>{n=t_(n,t,t=>tm(t,e,i))}),a=n}return r?.referentialEqualities&&(a=function(e,t){function r(t,r){let a=tg(e,tr(r));t.map(tr).forEach(t=>{e=t_(e,t,()=>a)})}if(e0(t)){let[a,n]=t;a.forEach(t=>{e=t_(e,tr(t),()=>e)}),n&&eB(n,r)}else eB(t,r);return e}(a,r.referentialEqualities)),a}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}tx.defaultInstance=new tx,tx.serialize=tx.defaultInstance.serialize.bind(tx.defaultInstance),tx.deserialize=tx.defaultInstance.deserialize.bind(tx.defaultInstance),tx.stringify=tx.defaultInstance.stringify.bind(tx.defaultInstance),tx.parse=tx.defaultInstance.parse.bind(tx.defaultInstance),tx.registerClass=tx.defaultInstance.registerClass.bind(tx.defaultInstance),tx.registerSymbol=tx.defaultInstance.registerSymbol.bind(tx.defaultInstance),tx.registerCustom=tx.defaultInstance.registerCustom.bind(tx.defaultInstance),tx.allowErrorProps=tx.defaultInstance.allowErrorProps.bind(tx.defaultInstance),tx.serialize,tx.deserialize,tx.stringify,tx.parse,tx.registerClass,tx.registerCustom,tx.registerSymbol,tx.allowErrorProps,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),a={};for(let e of r)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(o||(o={})),(u||(u={})).mergeShapes=(e,t)=>({...e,...t});let tO=o.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tT=e=>{switch(typeof e){case"undefined":return tO.undefined;case"string":return tO.string;case"number":return isNaN(e)?tO.nan:tO.number;case"boolean":return tO.boolean;case"function":return tO.function;case"bigint":return tO.bigint;case"symbol":return tO.symbol;case"object":if(Array.isArray(e))return tO.array;if(null===e)return tO.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return tO.promise;if("undefined"!=typeof Map&&e instanceof Map)return tO.map;if("undefined"!=typeof Set&&e instanceof Set)return tO.set;if("undefined"!=typeof Date&&e instanceof Date)return tO.date;return tO.object;default:return tO.unknown}},tS=o.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class tA extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},a=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(a);else if("invalid_return_type"===n.code)a(n.returnTypeError);else if("invalid_arguments"===n.code)a(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,a=0;for(;a<n.path.length;){let r=n.path[a];a===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],a++}}};return a(this),r}static assert(e){if(!(e instanceof tA))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,o.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}tA.create=e=>new tA(e);let tR=(e,t)=>{let r;switch(e.code){case tS.invalid_type:r=e.received===tO.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case tS.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,o.jsonStringifyReplacer)}`;break;case tS.unrecognized_keys:r=`Unrecognized key(s) in object: ${o.joinValues(e.keys,", ")}`;break;case tS.invalid_union:r="Invalid input";break;case tS.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${o.joinValues(e.options)}`;break;case tS.invalid_enum_value:r=`Invalid enum value. Expected ${o.joinValues(e.options)}, received '${e.received}'`;break;case tS.invalid_arguments:r="Invalid function arguments";break;case tS.invalid_return_type:r="Invalid function return type";break;case tS.invalid_date:r="Invalid date";break;case tS.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:o.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case tS.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case tS.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case tS.custom:r="Invalid input";break;case tS.invalid_intersection_types:r="Intersection results could not be merged";break;case tS.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case tS.not_finite:r="Number must be finite";break;default:r=t.defaultError,o.assertNever(e)}return{message:r}},tP=e=>{let{data:t,path:r,errorMaps:a,issueData:n}=e,s=[...r,...n.path||[]],i={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let o="";for(let e of a.filter(e=>!!e).slice().reverse())o=e(i,{data:t,defaultError:o}).message;return{...n,path:s,message:o}};function tN(e,t){let r=tP({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,tR,tR==tR?void 0:tR].filter(e=>!!e)});e.common.issues.push(r)}class tj{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let a of t){if("aborted"===a.status)return tI;"dirty"===a.status&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,a=await e.value;r.push({key:t,value:a})}return tj.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let a of t){let{key:t,value:n}=a;if("aborted"===t.status||"aborted"===n.status)return tI;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||a.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let tI=Object.freeze({status:"aborted"}),tC=e=>({status:"dirty",value:e}),tD=e=>({status:"valid",value:e}),tZ=e=>"aborted"===e.status,tM=e=>"dirty"===e.status,tU=e=>"valid"===e.status,t$=e=>"undefined"!=typeof Promise&&e instanceof Promise;function tL(e,t,r,a){if("a"===r&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)}function tq(e,t,r,a,n){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,r):n?n.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(l||(l={}));class tF{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let tz=(e,t)=>{if(tU(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new tA(e.common.issues);return this._error=t,this._error}}};function tV(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:a,description:n}=e;if(t&&(r||a))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{var s,i;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:n.defaultError}:void 0===n.data?{message:null!==(s=null!=o?o:a)&&void 0!==s?s:n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:null!==(i=null!=o?o:r)&&void 0!==i?i:n.defaultError}},description:n}}class tB{get description(){return this._def.description}_getType(e){return tT(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:tT(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tj,ctx:{common:e.parent.common,data:e.data,parsedType:tT(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(t$(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let a={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tT(e)},n=this._parseSync({data:e,path:a.path,parent:a});return tz(a,n)}"~validate"(e){var t,r;let a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tT(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:a});return tU(t)?{value:t.value}:{issues:a.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(e=>tU(e)?{value:e.value}:{issues:a.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tT(e)},a=this._parse({data:e,path:r.path,parent:r});return tz(r,await (t$(a)?a:Promise.resolve(a)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,a)=>{let n=e(t),s=()=>a.addIssue({code:tS.custom,...r(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(s(),!1)):!!n||(s(),!1)})}refinement(e,t){return this._refinement((r,a)=>!!e(r)||(a.addIssue("function"==typeof t?t(r,a):t),!1))}_refinement(e){return new rA({schema:this,typeName:p.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return rR.create(this,this._def)}nullable(){return rP.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rc.create(this)}promise(){return rS.create(this,this._def)}or(e){return rf.create([this,e],this._def)}and(e){return ry.create(this,e,this._def)}transform(e){return new rA({...tV(this._def),schema:this,typeName:p.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new rN({...tV(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:p.ZodDefault})}brand(){return new rC({typeName:p.ZodBranded,type:this,...tV(this._def)})}catch(e){return new rj({...tV(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:p.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return rD.create(this,e)}readonly(){return rZ.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let tW=/^c[^\s-]{8,}$/i,tK=/^[0-9a-z]+$/,tY=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tJ=/^[a-z0-9_-]{21}$/i,tG=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,t0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,t9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,t2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,t4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,t3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,t5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",t6=RegExp(`^${t5}$`);function t8(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}class t7 extends tB{_parse(e){var t,r,n,s;let i;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tO.string){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.string,received:t.parsedType}),tI}let u=new tj;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(tN(i=this._getOrReturnCtx(e,i),{code:tS.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),u.dirty());else if("max"===l.kind)e.data.length>l.value&&(tN(i=this._getOrReturnCtx(e,i),{code:tS.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),u.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(i=this._getOrReturnCtx(e,i),t?tN(i,{code:tS.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&tN(i,{code:tS.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),u.dirty())}else if("email"===l.kind)tX.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"email",code:tS.invalid_string,message:l.message}),u.dirty());else if("emoji"===l.kind)a||(a=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),a.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:tS.invalid_string,message:l.message}),u.dirty());else if("uuid"===l.kind)tH.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:tS.invalid_string,message:l.message}),u.dirty());else if("nanoid"===l.kind)tJ.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:tS.invalid_string,message:l.message}),u.dirty());else if("cuid"===l.kind)tW.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:tS.invalid_string,message:l.message}),u.dirty());else if("cuid2"===l.kind)tK.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:tS.invalid_string,message:l.message}),u.dirty());else if("ulid"===l.kind)tY.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:tS.invalid_string,message:l.message}),u.dirty());else if("url"===l.kind)try{new URL(e.data)}catch(t){tN(i=this._getOrReturnCtx(e,i),{validation:"url",code:tS.invalid_string,message:l.message}),u.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"regex",code:tS.invalid_string,message:l.message}),u.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(tN(i=this._getOrReturnCtx(e,i),{code:tS.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),u.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(tN(i=this._getOrReturnCtx(e,i),{code:tS.invalid_string,validation:{startsWith:l.value},message:l.message}),u.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(tN(i=this._getOrReturnCtx(e,i),{code:tS.invalid_string,validation:{endsWith:l.value},message:l.message}),u.dirty()):"datetime"===l.kind?(function(e){let t=`${t5}T${t8(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(l).test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{code:tS.invalid_string,validation:"datetime",message:l.message}),u.dirty()):"date"===l.kind?t6.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{code:tS.invalid_string,validation:"date",message:l.message}),u.dirty()):"time"===l.kind?RegExp(`^${t8(l)}$`).test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{code:tS.invalid_string,validation:"time",message:l.message}),u.dirty()):"duration"===l.kind?tQ.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"duration",code:tS.invalid_string,message:l.message}),u.dirty()):"ip"===l.kind?(t=e.data,("v4"===(r=l.version)||!r)&&t0.test(t)||("v6"===r||!r)&&t9.test(t)||(tN(i=this._getOrReturnCtx(e,i),{validation:"ip",code:tS.invalid_string,message:l.message}),u.dirty())):"jwt"===l.kind?!function(e,t){if(!tG.test(e))return!1;try{let[r]=e.split("."),a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));if("object"!=typeof n||null===n||!n.typ||!n.alg||t&&n.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,l.alg)&&(tN(i=this._getOrReturnCtx(e,i),{validation:"jwt",code:tS.invalid_string,message:l.message}),u.dirty()):"cidr"===l.kind?(n=e.data,("v4"===(s=l.version)||!s)&&t1.test(n)||("v6"===s||!s)&&t2.test(n)||(tN(i=this._getOrReturnCtx(e,i),{validation:"cidr",code:tS.invalid_string,message:l.message}),u.dirty())):"base64"===l.kind?t4.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"base64",code:tS.invalid_string,message:l.message}),u.dirty()):"base64url"===l.kind?t3.test(e.data)||(tN(i=this._getOrReturnCtx(e,i),{validation:"base64url",code:tS.invalid_string,message:l.message}),u.dirty()):o.assertNever(l);return{status:u.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:tS.invalid_string,...l.errToObj(r)})}_addCheck(e){return new t7({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...l.errToObj(e)})}url(e){return this._addCheck({kind:"url",...l.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...l.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...l.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...l.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...l.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...l.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...l.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...l.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...l.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...l.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...l.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...l.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...l.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...l.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...l.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...l.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...l.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...l.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...l.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...l.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...l.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...l.errToObj(t)})}nonempty(e){return this.min(1,l.errToObj(e))}trim(){return new t7({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t7({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t7({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t7.create=e=>{var t;return new t7({checks:[],typeName:p.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tV(e)})};class re extends tB{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tO.number){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.number,received:t.parsedType}),tI}let r=new tj;for(let a of this._def.checks)"int"===a.kind?o.isInteger(e.data)||(tN(t=this._getOrReturnCtx(e,t),{code:tS.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"multipleOf"===a.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=r>a?r:a;return parseInt(e.toFixed(n).replace(".",""))%parseInt(t.toFixed(n).replace(".",""))/Math.pow(10,n)}(e.data,a.value)&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(tN(t=this._getOrReturnCtx(e,t),{code:tS.not_finite,message:a.message}),r.dirty()):o.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,l.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.toString(t))}setLimit(e,t,r,a){return new re({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.toString(a)}]})}_addCheck(e){return new re({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:l.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:l.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&o.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}re.create=e=>new re({checks:[],typeName:p.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...tV(e)});class rt extends tB{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==tO.bigint)return this._getInvalidInput(e);let r=new tj;for(let a of this._def.checks)"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):o.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.bigint,received:t.parsedType}),tI}gte(e,t){return this.setLimit("min",e,!0,l.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.toString(t))}setLimit(e,t,r,a){return new rt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:l.toString(a)}]})}_addCheck(e){return new rt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}rt.create=e=>{var t;return new rt({checks:[],typeName:p.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tV(e)})};class rr extends tB{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tO.boolean){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.boolean,received:t.parsedType}),tI}return tD(e.data)}}rr.create=e=>new rr({typeName:p.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...tV(e)});class ra extends tB{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tO.date){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.date,received:t.parsedType}),tI}if(isNaN(e.data.getTime()))return tN(this._getOrReturnCtx(e),{code:tS.invalid_date}),tI;let r=new tj;for(let a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(tN(t=this._getOrReturnCtx(e,t),{code:tS.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):o.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ra({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:l.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:l.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ra.create=e=>new ra({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:p.ZodDate,...tV(e)});class rn extends tB{_parse(e){if(this._getType(e)!==tO.symbol){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.symbol,received:t.parsedType}),tI}return tD(e.data)}}rn.create=e=>new rn({typeName:p.ZodSymbol,...tV(e)});class rs extends tB{_parse(e){if(this._getType(e)!==tO.undefined){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.undefined,received:t.parsedType}),tI}return tD(e.data)}}rs.create=e=>new rs({typeName:p.ZodUndefined,...tV(e)});class ri extends tB{_parse(e){if(this._getType(e)!==tO.null){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.null,received:t.parsedType}),tI}return tD(e.data)}}ri.create=e=>new ri({typeName:p.ZodNull,...tV(e)});class ro extends tB{constructor(){super(...arguments),this._any=!0}_parse(e){return tD(e.data)}}ro.create=e=>new ro({typeName:p.ZodAny,...tV(e)});class ru extends tB{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tD(e.data)}}ru.create=e=>new ru({typeName:p.ZodUnknown,...tV(e)});class rl extends tB{_parse(e){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.never,received:t.parsedType}),tI}}rl.create=e=>new rl({typeName:p.ZodNever,...tV(e)});class rd extends tB{_parse(e){if(this._getType(e)!==tO.undefined){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.void,received:t.parsedType}),tI}return tD(e.data)}}rd.create=e=>new rd({typeName:p.ZodVoid,...tV(e)});class rc extends tB{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==tO.array)return tN(t,{code:tS.invalid_type,expected:tO.array,received:t.parsedType}),tI;if(null!==a.exactLength){let e=t.data.length>a.exactLength.value,n=t.data.length<a.exactLength.value;(e||n)&&(tN(t,{code:e?tS.too_big:tS.too_small,minimum:n?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(tN(t,{code:tS.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(tN(t,{code:tS.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>a.type._parseAsync(new tF(t,e,t.path,r)))).then(e=>tj.mergeArray(r,e));let n=[...t.data].map((e,r)=>a.type._parseSync(new tF(t,e,t.path,r)));return tj.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new rc({...this._def,minLength:{value:e,message:l.toString(t)}})}max(e,t){return new rc({...this._def,maxLength:{value:e,message:l.toString(t)}})}length(e,t){return new rc({...this._def,exactLength:{value:e,message:l.toString(t)}})}nonempty(e){return this.min(1,e)}}rc.create=(e,t)=>new rc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:p.ZodArray,...tV(t)});class rp extends tB{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=o.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==tO.object){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.object,received:t.parsedType}),tI}let{status:t,ctx:r}=this._processInputParams(e),{shape:a,keys:n}=this._getCached(),s=[];if(!(this._def.catchall instanceof rl&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||s.push(e);let i=[];for(let e of n){let t=a[e],n=r.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new tF(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof rl){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(tN(r,{code:tS.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let a=r.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new tF(r,a,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of i){let r=await t.key,a=await t.value;e.push({key:r,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>tj.mergeObjectSync(t,e)):tj.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return l.errToObj,new rp({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var a,n,s,i;let o=null!==(s=null===(n=(a=this._def).errorMap)||void 0===n?void 0:n.call(a,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=l.errToObj(e).message)&&void 0!==i?i:o}:{message:o}}}:{}})}strip(){return new rp({...this._def,unknownKeys:"strip"})}passthrough(){return new rp({...this._def,unknownKeys:"passthrough"})}extend(e){return new rp({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rp({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:p.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new rp({...this._def,catchall:e})}pick(e){let t={};return o.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new rp({...this._def,shape:()=>t})}omit(e){let t={};return o.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new rp({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof rp){let r={};for(let a in t.shape){let n=t.shape[a];r[a]=rR.create(e(n))}return new rp({...t._def,shape:()=>r})}return t instanceof rc?new rc({...t._def,type:e(t.element)}):t instanceof rR?rR.create(e(t.unwrap())):t instanceof rP?rP.create(e(t.unwrap())):t instanceof rv?rv.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return o.objectKeys(this.shape).forEach(r=>{let a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}),new rp({...this._def,shape:()=>t})}required(e){let t={};return o.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof rR;)e=e._def.innerType;t[r]=e}}),new rp({...this._def,shape:()=>t})}keyof(){return rx(o.objectKeys(this.shape))}}rp.create=(e,t)=>new rp({shape:()=>e,unknownKeys:"strip",catchall:rl.create(),typeName:p.ZodObject,...tV(t)}),rp.strictCreate=(e,t)=>new rp({shape:()=>e,unknownKeys:"strict",catchall:rl.create(),typeName:p.ZodObject,...tV(t)}),rp.lazycreate=(e,t)=>new rp({shape:e,unknownKeys:"strip",catchall:rl.create(),typeName:p.ZodObject,...tV(t)});class rf extends tB{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new tA(e.ctx.common.issues));return tN(t,{code:tS.invalid_union,unionErrors:r}),tI});{let e;let a=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&a.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=a.map(e=>new tA(e));return tN(t,{code:tS.invalid_union,unionErrors:n}),tI}}get options(){return this._def.options}}rf.create=(e,t)=>new rf({options:e,typeName:p.ZodUnion,...tV(t)});let rh=e=>{if(e instanceof rE)return rh(e.schema);if(e instanceof rA)return rh(e.innerType());if(e instanceof rk)return[e.value];if(e instanceof rO)return e.options;if(e instanceof rT)return o.objectValues(e.enum);if(e instanceof rN)return rh(e._def.innerType);if(e instanceof rs)return[void 0];else if(e instanceof ri)return[null];else if(e instanceof rR)return[void 0,...rh(e.unwrap())];else if(e instanceof rP)return[null,...rh(e.unwrap())];else if(e instanceof rC)return rh(e.unwrap());else if(e instanceof rZ)return rh(e.unwrap());else if(e instanceof rj)return rh(e._def.innerType);else return[]};class rm extends tB{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==tO.object)return tN(t,{code:tS.invalid_type,expected:tO.object,received:t.parsedType}),tI;let r=this.discriminator,a=t.data[r],n=this.optionsMap.get(a);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(tN(t,{code:tS.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tI)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let a=new Map;for(let r of t){let t=rh(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(a.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);a.set(n,r)}}return new rm({typeName:p.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...tV(r)})}}class ry extends tB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=(e,a)=>{if(tZ(e)||tZ(a))return tI;let n=function e(t,r){let a=tT(t),n=tT(r);if(t===r)return{valid:!0,data:t};if(a===tO.object&&n===tO.object){let a=o.objectKeys(r),n=o.objectKeys(t).filter(e=>-1!==a.indexOf(e)),s={...t,...r};for(let a of n){let n=e(t[a],r[a]);if(!n.valid)return{valid:!1};s[a]=n.data}return{valid:!0,data:s}}if(a===tO.array&&n===tO.array){if(t.length!==r.length)return{valid:!1};let a=[];for(let n=0;n<t.length;n++){let s=e(t[n],r[n]);if(!s.valid)return{valid:!1};a.push(s.data)}return{valid:!0,data:a}}return a===tO.date&&n===tO.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,a.value);return n.valid?((tM(e)||tM(a))&&t.dirty(),{status:t.value,value:n.data}):(tN(r,{code:tS.invalid_intersection_types}),tI)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ry.create=(e,t,r)=>new ry({left:e,right:t,typeName:p.ZodIntersection,...tV(r)});class rv extends tB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tO.array)return tN(r,{code:tS.invalid_type,expected:tO.array,received:r.parsedType}),tI;if(r.data.length<this._def.items.length)return tN(r,{code:tS.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tI;!this._def.rest&&r.data.length>this._def.items.length&&(tN(r,{code:tS.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...r.data].map((e,t)=>{let a=this._def.items[t]||this._def.rest;return a?a._parse(new tF(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(a).then(e=>tj.mergeArray(t,e)):tj.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new rv({...this._def,rest:e})}}rv.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new rv({items:e,typeName:p.ZodTuple,rest:null,...tV(t)})};class rg extends tB{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tO.object)return tN(r,{code:tS.invalid_type,expected:tO.object,received:r.parsedType}),tI;let a=[],n=this._def.keyType,s=this._def.valueType;for(let e in r.data)a.push({key:n._parse(new tF(r,e,r.path,e)),value:s._parse(new tF(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?tj.mergeObjectAsync(t,a):tj.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return new rg(t instanceof tB?{keyType:e,valueType:t,typeName:p.ZodRecord,...tV(r)}:{keyType:t7.create(),valueType:e,typeName:p.ZodRecord,...tV(t)})}}class r_ extends tB{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tO.map)return tN(r,{code:tS.invalid_type,expected:tO.map,received:r.parsedType}),tI;let a=this._def.keyType,n=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:a._parse(new tF(r,e,r.path,[s,"key"])),value:n._parse(new tF(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let a=await r.key,n=await r.value;if("aborted"===a.status||"aborted"===n.status)return tI;("dirty"===a.status||"dirty"===n.status)&&t.dirty(),e.set(a.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let a=r.key,n=r.value;if("aborted"===a.status||"aborted"===n.status)return tI;("dirty"===a.status||"dirty"===n.status)&&t.dirty(),e.set(a.value,n.value)}return{status:t.value,value:e}}}}r_.create=(e,t,r)=>new r_({valueType:t,keyType:e,typeName:p.ZodMap,...tV(r)});class rb extends tB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==tO.set)return tN(r,{code:tS.invalid_type,expected:tO.set,received:r.parsedType}),tI;let a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&(tN(r,{code:tS.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&(tN(r,{code:tS.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let n=this._def.valueType;function s(e){let r=new Set;for(let a of e){if("aborted"===a.status)return tI;"dirty"===a.status&&t.dirty(),r.add(a.value)}return{status:t.value,value:r}}let i=[...r.data.values()].map((e,t)=>n._parse(new tF(r,e,r.path,t)));return r.common.async?Promise.all(i).then(e=>s(e)):s(i)}min(e,t){return new rb({...this._def,minSize:{value:e,message:l.toString(t)}})}max(e,t){return new rb({...this._def,maxSize:{value:e,message:l.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}rb.create=(e,t)=>new rb({valueType:e,minSize:null,maxSize:null,typeName:p.ZodSet,...tV(t)});class rw extends tB{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==tO.function)return tN(t,{code:tS.invalid_type,expected:tO.function,received:t.parsedType}),tI;function r(e,r){return tP({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tR,tR].filter(e=>!!e),issueData:{code:tS.invalid_arguments,argumentsError:r}})}function a(e,r){return tP({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,tR,tR].filter(e=>!!e),issueData:{code:tS.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof rS){let e=this;return tD(async function(...t){let i=new tA([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw i.addIssue(r(t,e)),i}),u=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(u,n).catch(e=>{throw i.addIssue(a(u,e)),i})})}{let e=this;return tD(function(...t){let i=e._def.args.safeParse(t,n);if(!i.success)throw new tA([r(t,i.error)]);let o=Reflect.apply(s,this,i.data),u=e._def.returns.safeParse(o,n);if(!u.success)throw new tA([a(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new rw({...this._def,args:rv.create(e).rest(ru.create())})}returns(e){return new rw({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new rw({args:e||rv.create([]).rest(ru.create()),returns:t||ru.create(),typeName:p.ZodFunction,...tV(r)})}}class rE extends tB{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}rE.create=(e,t)=>new rE({getter:e,typeName:p.ZodLazy,...tV(t)});class rk extends tB{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return tN(t,{received:t.data,code:tS.invalid_literal,expected:this._def.value}),tI}return{status:"valid",value:e.data}}get value(){return this._def.value}}function rx(e,t){return new rO({values:e,typeName:p.ZodEnum,...tV(t)})}rk.create=(e,t)=>new rk({value:e,typeName:p.ZodLiteral,...tV(t)});class rO extends tB{constructor(){super(...arguments),d.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return tN(t,{expected:o.joinValues(r),received:t.parsedType,code:tS.invalid_type}),tI}if(tL(this,d,"f")||tq(this,d,new Set(this._def.values),"f"),!tL(this,d,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return tN(t,{received:t.data,code:tS.invalid_enum_value,options:r}),tI}return tD(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return rO.create(e,{...this._def,...t})}exclude(e,t=this._def){return rO.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}d=new WeakMap,rO.create=rx;class rT extends tB{constructor(){super(...arguments),c.set(this,void 0)}_parse(e){let t=o.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==tO.string&&r.parsedType!==tO.number){let e=o.objectValues(t);return tN(r,{expected:o.joinValues(e),received:r.parsedType,code:tS.invalid_type}),tI}if(tL(this,c,"f")||tq(this,c,new Set(o.getValidEnumValues(this._def.values)),"f"),!tL(this,c,"f").has(e.data)){let e=o.objectValues(t);return tN(r,{received:r.data,code:tS.invalid_enum_value,options:e}),tI}return tD(e.data)}get enum(){return this._def.values}}c=new WeakMap,rT.create=(e,t)=>new rT({values:e,typeName:p.ZodNativeEnum,...tV(t)});class rS extends tB{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==tO.promise&&!1===t.common.async?(tN(t,{code:tS.invalid_type,expected:tO.promise,received:t.parsedType}),tI):tD((t.parsedType===tO.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}rS.create=(e,t)=>new rS({type:e,typeName:p.ZodPromise,...tV(t)});class rA extends tB{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===p.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,n={addIssue:e=>{tN(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===a.type){let e=a.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return tI;let a=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===a.status?tI:"dirty"===a.status||"dirty"===t.value?tC(a.value):a});{if("aborted"===t.value)return tI;let a=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===a.status?tI:"dirty"===a.status||"dirty"===t.value?tC(a.value):a}}if("refinement"===a.type){let e=e=>{let t=a.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?tI:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===a.status?tI:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}}if("transform"===a.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>tU(e)?Promise.resolve(a.transform(e.value,n)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tU(e))return e;let s=a.transform(e.value,n);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}o.assertNever(a)}}rA.create=(e,t,r)=>new rA({schema:e,typeName:p.ZodEffects,effect:t,...tV(r)}),rA.createWithPreprocess=(e,t,r)=>new rA({schema:t,effect:{type:"preprocess",transform:e},typeName:p.ZodEffects,...tV(r)});class rR extends tB{_parse(e){return this._getType(e)===tO.undefined?tD(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rR.create=(e,t)=>new rR({innerType:e,typeName:p.ZodOptional,...tV(t)});class rP extends tB{_parse(e){return this._getType(e)===tO.null?tD(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rP.create=(e,t)=>new rP({innerType:e,typeName:p.ZodNullable,...tV(t)});class rN extends tB{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===tO.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}rN.create=(e,t)=>new rN({innerType:e,typeName:p.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tV(t)});class rj extends tB{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return t$(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new tA(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new tA(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}rj.create=(e,t)=>new rj({innerType:e,typeName:p.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tV(t)});class rI extends tB{_parse(e){if(this._getType(e)!==tO.nan){let t=this._getOrReturnCtx(e);return tN(t,{code:tS.invalid_type,expected:tO.nan,received:t.parsedType}),tI}return{status:"valid",value:e.data}}}rI.create=e=>new rI({typeName:p.ZodNaN,...tV(e)}),Symbol("zod_brand");class rC extends tB{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class rD extends tB{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?tI:"dirty"===e.status?(t.dirty(),tC(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?tI:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new rD({in:e,out:t,typeName:p.ZodPipeline})}}class rZ extends tB{_parse(e){let t=this._def.innerType._parse(e),r=e=>(tU(e)&&(e.value=Object.freeze(e.value)),e);return t$(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}rZ.create=(e,t)=>new rZ({innerType:e,typeName:p.ZodReadonly,...tV(t)}),rp.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(p||(p={})),t7.create,re.create,rI.create,rt.create,rr.create,ra.create,rn.create,rs.create,ri.create,ro.create,ru.create,rl.create,rd.create,rc.create,rp.create,rp.strictCreate,rf.create,rm.create,ry.create,rv.create,rg.create,r_.create,rb.create,rw.create,rE.create,rk.create,rO.create,rT.create,rS.create,rA.create,rR.create,rP.create,rA.createWithPreprocess,rD.create;var rM=r(746);let rU=async e=>({session:await (0,rM.Wh)(),...e}),r$=eq.context().create({transformer:tx,errorFormatter:({shape:e,error:t})=>({...e,data:{...e.data,zodError:t.cause instanceof tA?t.cause.flatten():null}})}),rL=r$.createCallerFactory,rq=r$.router;r$.procedure,r$.procedure.use(({ctx:e,next:t})=>{if(!e.session||!e.session.user)throw new D({code:"UNAUTHORIZED",message:"Session or user information is missing"});return t({ctx:{session:{...e.session,user:e.session.user}}})});let rF=rq({});rL(rF);let rz=async e=>rU({headers:e.headers});process.env;let rV=e=>eE({endpoint:"/api/trpc",req:e,router:rF,createContext:()=>rz(e),onError:({path:e,error:t})=>{}}),rB=new h.AppRouteRouteModule({definition:{kind:m.RouteKind.APP_ROUTE,page:"/api/trpc/[trpc]/route",pathname:"/api/trpc/[trpc]",filename:"route",bundlePath:"app/api/trpc/[trpc]/route"},resolvedPagePath:"/Users/shinyqk/Documents/mastuff/proj/ai_stuff/raph-ai-starter/src/app/api/trpc/[trpc]/route.ts",nextConfigOutput:"standalone",userland:f}),{workAsyncStorage:rW,workUnitAsyncStorage:rK,serverHooks:rY}=rB;function rH(){return(0,y.patchFetch)({workAsyncStorage:rW,workUnitAsyncStorage:rK})}},96487:()=>{},78335:()=>{},37301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});let a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(void 0);if(r&&r.has(e))return r.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}(r(76301));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let s={current:null},i="function"==typeof a.cache?a.cache:e=>e,o=console.warn;function u(e){return function(...t){o(e(...t))}}i(e=>{try{o(s.current)}finally{s.current=null}})},42706:(e,t,r)=>{"use strict";e.exports=r(44870)},746:(e,t,r)=>{"use strict";r.d(t,{Nh:()=>u,Wh:()=>l});var a=r(86259);let n=require("@prisma/client"),s=globalThis.prisma??new n.PrismaClient({log:["query"],datasources:{db:{url:process.env.DATABASE_URL}}});var i=r(51825),o=r(33704);let u={adapter:(0,a.y)(s),providers:[(0,o.A)({server:{host:"smtp.resend.com",port:465,auth:{user:"resend",pass:process.env.EMAIL_SERVER_PASSWORD}},from:process.env.EMAIL_FROM||"onboarding@resend.dev"})],session:{strategy:"database"},secret:process.env.NEXTAUTH_SECRET,callbacks:{async signIn({user:e}){try{if(!e?.email)return!1;return!0}catch(e){return!1}},async session({session:e,user:t}){try{return{...e,user:{...e.user,id:t.id,role:t.role,login:t.login,isAdmin:t.isAdmin}}}catch(t){return e}}},pages:{signIn:"/auth/signin",signOut:"/auth/signout",error:"/auth/error",verifyRequest:"/auth/verify"}},l=()=>(0,i.getServerSession)(u)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,406],()=>r(64839));module.exports=a})();